"use strict";(()=>{var t={};t.id=459,t.ids=[459],t.modules={3524:t=>{t.exports=require("@prisma/client")},517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6431:(t,e,a)=>{a.r(e),a.d(e,{headerHooks:()=>h,originalPathname:()=>x,patchFetch:()=>y,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>v,staticGenerationBailout:()=>f});var r={};a.r(r),a.d(r,{GET:()=>p,POST:()=>d});var s=a(884),n=a(6132),i=a(1040),o=a(1816),u=a(3524);let c=new u.PrismaClient;async function p(){try{let t=await c.topic.findMany({include:{options:!0}});return(0,o.Q)({data:t})}catch(t){return(0,o.v)({data:t,status:"500"})}}async function d(t){try{let e=await t.json(),a=await c.topic.create({data:{userId:e.userId,avatar:e.avatar,content:e.content,images:e.images,createTime:new Date().toLocaleString(),options:{create:e.options.map(t=>({key:t,value:0}))}},include:{options:!0}});return(0,o.Q)({data:a})}catch(t){return(0,o.v)({data:t,status:"500"})}}let l=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/topic/route",pathname:"/api/topic",filename:"route",bundlePath:"app/api/topic/route"},resolvedPagePath:"E:\\CODE\\react\\react-ticket-app\\src\\app\\api\\topic\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:v,serverHooks:g,headerHooks:h,staticGenerationBailout:f}=l,x="/api/topic/route";function y(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:v})}},884:(t,e,a)=>{t.exports=a(517)},1816:(t,e,a)=>{a.d(e,{Q:()=>n,v:()=>s});var r=a(5798);function s(t){return r.Z.json({status:t.status||"400",data:t.data||null,message:t.message||"Bad Request"})}function n(t){return r.Z.json({status:t.status||"200",data:t.data||null,message:t.message||"success"})}}};var e=require("../../../webpack-runtime.js");e.C(t);var a=t=>e(e.s=t),r=e.X(0,[271,798],()=>a(6431));module.exports=r})();